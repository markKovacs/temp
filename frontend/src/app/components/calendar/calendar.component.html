<div class="container">

    <!-- Left side - date picker -->
    <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
        <div class="card">
            <h2>Choose a date</h2>
            <div class="row">
                <div *ngIf="!loaded" class="loading-icon-container">
                    <i class="material-icons md-40 loading-icon">autorenew</i>
                </div>
                <div *ngFor="let dateObj of dates.sort(sortDates)" class="date-button-container">
                    <h4 [class]="getClass(dateObj)" (click)="selectDate(dateObj)">
                        <i class="fa fa-calendar"></i>&nbsp;
                        {{ dateObj | date: 'yyyy.MM.dd. HH:mm' }}
                    </h4>
                </div>
                <hr />
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
                    <p-calendar
                            [(ngModel)]="date"
                            showTime="showTime"
                            dateFormat="yy.mm.dd."
                            [minDate]="minDate"
                            hourFormat="24">
                    </p-calendar>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                    <span>
                    <a (click)="addDate()">
                        <i class="fa fa-plus text-success" aria-hidden="true">&nbsp;Add new</i>
                    </a>
                    </span>

                </div>
            </div>
        </div>
    </div>

    <!-- Right side - assign applicant to group/individual -->
    <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">

        <!-- Start -->
        <div *ngIf="!chosenDate" class="card">
            <div class="no-date-sign">
                <i class="material-icons md-120">error_outline</i>
                <h1>No date selected!</h1>
            </div>
        </div>

        <!-- Group times -->
        <div class="card" *ngIf="showGroupTimes()">
            <h3 class="text-info">Group screening - Assign the applicant to the choosen date</h3>
            <div class="row assign-container">
                <p-pickList
                        [showSourceControls]="false"
                        [showTargetControls]="false"
                        [responsive]="true"
                        [source]="sourceList"
                        [target]="targetList"
                        [enabled]="!showGroupTimes()"
                >
                    <ng-template let-user pTemplate="item">
                        <div class="ui-helper-clearfix">
                            <div class="assign-applicant">
                                <i *ngIf="user.gender == 'male'" class="fa fa-mars" aria-hidden="true"></i>
                                <i *ngIf="user.gender == 'female'" class="fa fa-venus" aria-hidden="true"></i>
                                <span>{{user.name}}</span><span>{{user.age}}</span>
                            </div>
                        </div>
                    </ng-template>
                </p-pickList>
            </div>
            <div class="row assign-controller-container">
                <button class="btn btn-success" (click)="saveGroupTimes()">Continue</button>
            </div>
        </div>

        <!-- Individual times -->
        <div *ngIf="showIndividualTimes()" class="card">
            <h3>Personal screening - Set a date for the applicant</h3>
            <div *ngFor="let user of targetList" class="applicant-individual-container">
                <div>
                    <span>{{user.name}}</span>
                    <p-calendar
                            [(ngModel)]="user.personalTime"
                            showTime="showTime"
                            dateFormat="yy.mm.dd."
                            [minDate]="minDate"
                            hourFormat="24">
                    </p-calendar>
                </div>
                <div class="assign-controller-container">
                    <button class="btn btn-success" (click)="saveIndividualTimes()">Continue</button>
                </div>
            </div>
        </div>

        <!-- Loading -->
        <div *ngIf="showLoading()" class="card">
            <div class="loading-icon-container">
                <i class="material-icons md-40 loading-icon">autorenew</i>
            </div>
        </div>

        <!-- Messages -->
        <p-growl [(value)]="messages"
                 life=5000
                 [style]="{'margin-top': '2.5em'}"
        ></p-growl>

    </div>
</div>